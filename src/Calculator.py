def calculate_next_state (cells, rule):
   pass